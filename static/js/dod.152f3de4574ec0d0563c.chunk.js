"use strict";(()=>{(self.webpackChunk_dod_awl=self.webpackChunk_dod_awl||[]).push([[634],{5634:(ve,P,a)=>{a.r(P),a.d(P,{default:()=>de});var e=a(8051),ge=a(8348),p=a(7781),y=a(3862),x=a(6231),f=a(8400),G=a(486),T=a(3299),V=a(4988),Y=a(2188),K=a(205),b=a(3668),g=a(3770),A=a(6932),W=a(8397),N=a(2636),k=a(3186),F=a(5007),H=a(7098),Q=a(6163),X=a(5026),U=a(6366);const w=({formik:l})=>{const r=(0,e.useRef)(null),[o,n]=(0,e.useState)([0,1,2]),d=["Shipping","Store pickup","Local delivery"];return(0,e.useEffect)(()=>{r.current&&new k.bt(r.current,{draggable:"button",mirror:{constrainDimensions:!0,yAxis:!1},handle:"#dragHandle",plugins:[k.Vn.hu],swapAnimation:{duration:200,easingFunction:"ease-in-out"}}).on("sortable:stop",t=>{n(c=>(t.newIndex>=0&&t.newIndex<c.length&&c.splice(t.newIndex,0,c.splice(t.oldIndex,1)[0]),l.setFieldValue("sort_order",c),c))})},[r]),e.createElement(g.x,{ref:r,id:"Delivery__sorOptions",padding:"050"},o.map((i,t)=>e.createElement(T.z,{key:t,size:"large"},e.createElement(x.g,null,e.createElement(g.x,{id:"dragHandle",borderStyle:"solid",borderInlineEndWidth:"025",paddingInlineStart:"100",maxWidth:"30px",width:"30px",background:"bg-fill-selected",borderRadius:"150"},e.createElement(F.J,{source:H.S,tone:"interactive"})),e.createElement(f.x,{as:"p",fontWeight:"regular",truncate:!0},d[i]),e.createElement(F.J,{source:i===0?Q.S:i===2?X.S:U.S})))))};var B=a(6553),z=a(6372),j=a(479),q=a(2434),_=a(2848);const ee={email_title:"Your order is ready for pickup",email_body:"Bring your confirmation email when you come to collect your order.",shop:{name:"WebCloudKey Store",url:"https://webcloudkey.com",email:"support@webcloudkey.com",email_logo_url:"https://via.placeholder.com/200x50?text=Logo",email_logo_width:200,email_accent_color:"#007BFF"},name:"#1001",order_status_url:"https://webcloudkey.com/orders/1001/status",pickup_address:`WebCloudKey Pickup Point
1226 Masaruvalo Khancho Tankshal Kalupur
Ahmedabad, Gujarat 380001`,pickup_security_code:"123456",attributes:{pickup_date:"2025-07-20"},notes:"Please head to the front desk and show this confirmation.",line_items:[{title:"Wireless Mouse",quantity:1,image:"https://lh3.googleusercontent.com/a-/ALV-UjW6R9j9fQ4AW8YvROZTm0Pgdp8xw2DQMQSqpgtxjCVi9TV_qiE=s80-p-k-rw-no",variant_title:"Black",product:{title:"Wireless Mouse"}}]};function I(l,r=""){let o=[];for(const n in l)if(Array.isArray(l[n])&&l[n].length>0){const d=`${r}${n}[0].`;o=o.concat(I(l[n][0],d)),o.push({label:`${r}${n}`,info:Array.isArray(l[n])?"":l[n]})}else typeof l[n]=="object"&&l[n]!==null?o=o.concat(I(l[n],`${r}${n}.`)):o.push({label:`${r}${n}`,info:Array.isArray(l[n])?"":l[n]});return o}const L=({language:l="css",value:r="",onChange:o=()=>{},height:n="300px",label:d="",helpText:i=""})=>{const t=[];if(l==="css")t.push((0,B.iv)());else if(l==="javascript")t.push((0,z.eJ)());else if(l==="liquid"){const c=I(ee).map(({label:u,info:h})=>({label:u,type:"variable",detail:"Liquid variable",info:h?h.toString():void 0}));t.push((0,j.Xu)({variables:c}),(0,q.dy)(),(0,z.eJ)(),(0,B.iv)())}return e.createElement(g.x,null,d&&e.createElement(g.x,{paddingBlockEnd:"200"},e.createElement(f.x,{as:"label",variant:"bodyMd",fontWeight:"medium"},d)),e.createElement(_.ZP,{value:r||"",onChange:c=>o(c),height:n,basicSetup:!0,role:"toolbar",extensions:t,theme:"light",spellCheck:!1,className:"monaco-editor-stylefield",autoSave:"true",minWidth:"300px"}),i&&e.createElement(g.x,{paddingBlockStart:"200"},e.createElement(f.x,{as:"p",variant:"bodySm",tone:"subdued"},i)))};var te=a(6636),ae=a(5852),le=a(5049);const ne=({label:l="Select date",value:r="",onChange:o=()=>{},placeholder:n="Choose a date",helpText:d=""})=>{const[i,t]=(0,e.useState)(!1),[c,u]=(0,e.useState)(r?new Date(r):new Date),[h,E]=(0,e.useState)(c.getMonth()),[s,M]=(0,e.useState)(c.getFullYear()),S=({start:m,end:v})=>{const Z=m;u(Z),t(!1);const me=Z.toISOString().split("T")[0];o(me)},C=(m,v)=>{E(m),M(v)},D=m=>{if(o(m),m){const v=new Date(m);isNaN(v.getTime())||(u(v),E(v.getMonth()),M(v.getFullYear()))}},ue=m=>{if(!m)return"";try{const v=new Date(m);return isNaN(v.getTime())?m:v.toLocaleDateString()}catch(v){return m}};return e.createElement(g.x,null,e.createElement(te.J,{active:i,autofocusTarget:"none",preferredAlignment:"left",fullWidth:!0,preferInputActivator:!1,preferredPosition:"below",preventCloseOnChildOverlayClick:!0,onClose:()=>t(!1),activator:e.createElement(Y.n,{role:"combobox",label:l,prefix:e.createElement(F.J,{source:le.S}),value:ue(r),onFocus:()=>t(!0),onChange:D,autoComplete:"off",placeholder:n,helpText:d})},e.createElement(y.Z,null,e.createElement(g.x,{padding:"400"},e.createElement(ae.M,{month:h,year:s,selected:c,onMonthChange:C,onChange:S,allowRange:!1})))))};var O=a(6935),se=a(1962),J=a(6502),R=a(5233),ie=a(8870),$=(l,r,o)=>new Promise((n,d)=>{var i=u=>{try{c(o.next(u))}catch(h){d(h)}},t=u=>{try{c(o.throw(u))}catch(h){d(h)}},c=u=>u.done?n(u.value):Promise.resolve(u.value).then(i,t);c((o=o.apply(l,r)).next())});const oe=()=>{const l=(0,J.I0)(),[r,o]=(0,e.useState)({date_format:"DD/MM/YYYY",required_delivery_date_time:"0",auto_select_date_time:"0",display_style:"0",sort_order:[0,1,2],custom_css:"",custom_script:"",selector:"",selector_position:""}),[n,d]=(0,e.useState)([]),i=(0,J.v9)(s=>s.settings.data);(0,e.useEffect)(()=>{l((0,O.w7)())},[]),(0,e.useEffect)(()=>{o({date_format:i.date_format,required_delivery_date_time:i.required_delivery_date_time,auto_select_date_time:i.auto_select_date_time,display_style:i.display_style,sort_order:i.sort_order||[0,1,2],custom_css:i.custom_css,custom_script:i.custom_script,selector:i.selector,selector_position:i.selector_position})},[i]);const t=(0,se.TA)({initialValues:r,enableReinitialize:!0,onSubmit:(s,M)=>$(void 0,[s,M],function*(S,{setSubmitting:C}){C(!0);try{console.log(S);const D=yield(0,ie.rQ)("/generalSetting",S,"PATCH");l(setInitialState(D)),l((0,R.i_)({open:!1})),t.resetForm()}catch(D){console.error("Error submitting form:",D)}finally{C(!1)}})}),c=[{label:"DD/MM/YYYY",value:"DD/MM/YYYY"},{label:"MM/DD/YYYY",value:"MM/DD/YYYY"},{label:"YYYY-MM-DD",value:"YYYY-MM-DD"},{label:"DD-MM-YYYY",value:"DD-MM-YYYY"},{label:"MM-DD-YYYY",value:"MM-DD-YYYY"},{label:"DD.MM.YYYY",value:"DD.MM.YYYY"},{label:"MM.DD.YYYY",value:"MM.DD.YYYY"},{label:"DD/MM/YY",value:"DD/MM/YY"},{label:"MM/DD/YY",value:"MM/DD/YY"},{label:"YY-MM-DD",value:"YY-MM-DD"},{label:"DD-MM-YY",value:"DD-MM-YY"},{label:"MM-DD-YY",value:"MM-DD-YY"}];(0,e.useEffect)(()=>{n.length&&d([])},[n]),(0,e.useEffect)(()=>{l((0,R.i_)({onAction:t.submitForm,onDiscard:t.handleReset,loading:t.isSubmitting,disabled:t.isSubmitting||!t.dirty,disabledDiscard:t.isSubmitting||!t.dirty,open:t.dirty}))},[t.values,t.dirty,t.isSubmitting]);function u(){return $(this,null,function*(){l((0,O.DJ)({type:8,status:1}))})}const h=[{label:"With input box",value:"0",helpText:e.createElement(e.Fragment,null,e.createElement(ne,{label:"",value:t.values.manualDatePicker,onChange:s=>t.setFieldValue("manualDatePicker",s),placeholder:"Select a delivery date"}))},{label:"In-line",value:"1",helpText:"Display calendar inline without separate input field"}],E=s=>{console.log("Selected values:",s),t.setFieldValue("display_style",s[0])};return e.createElement(e.Fragment,null,e.createElement(p.A,null,e.createElement(p.A.AnnotatedSection,{id:"status",title:"Application status",description:"Manage application status"},e.createElement(y.Z,null,e.createElement(x.g,{gap:"300",blockAlign:"center",align:"space-between"},e.createElement(x.g,{gap:"200"},e.createElement(f.x,{as:"h3",variant:"headingSm",fontWeight:"semibold"},"Click to enable or disable application"),e.createElement(G.C,{tone:"success"},"Enable")),e.createElement(T.z,{name:"app_status",onClick:()=>{u()}},"disable")))),e.createElement(p.A.AnnotatedSection,{id:"settings",title:"Calender settings",description:"Manage your calender settings"},e.createElement(y.Z,null,e.createElement(V.E,{gap:"200"},e.createElement(Y.n,{label:"Time zone",onChange:()=>{},autoComplete:"off",value:"Asia/Kolkata (GMT +05:30)",readOnly:!0}),e.createElement(K.P,{label:"Date format",name:"date_format",options:c,onChange:s=>t.setFieldValue("date_format",s),value:t.values.date_format}),e.createElement(b.z,{marginInline:"400"},e.createElement(g.x,{paddingBlock:"200"},e.createElement(A.i,null))),e.createElement(W.X,{label:"Required selecting delivery date",checked:t.values.required_delivery_date_time==="0",onChange:s=>{s?t.setFieldValue("required_delivery_date_time","0"):t.setFieldValue("required_delivery_date_time","1")}}),e.createElement(W.X,{label:"Auto select first available date",checked:t.values.auto_select_date_time=="1",onChange:s=>{s?t.setFieldValue("auto_select_date_time","1"):t.setFieldValue("auto_select_date_time","0")}}),e.createElement(b.z,{marginInline:"400"},e.createElement(g.x,{paddingBlock:"200"},e.createElement(A.i,null))),e.createElement(N.X,{title:"Calender display style",choices:h,selected:[t.values.display_style],onChange:E}),e.createElement(b.z,{marginInline:"400"},e.createElement(g.x,{paddingBlock:"200"},e.createElement(A.i,null))),e.createElement(w,{formik:t,setSortableDOD:d})))),e.createElement(p.A.AnnotatedSection,{id:"css",title:"CSS",description:"Add CSS to customize your widget"},e.createElement(y.Z,null,e.createElement(L,{language:"css",value:t.values.custom_css,onChange:s=>t.setFieldValue("custom_css",s),height:"300px",label:"Custom styles",helpText:"Add custom CSS to style your delivery date picker widget"}))),e.createElement(p.A.AnnotatedSection,{id:"advanced_settings",title:"Advanced settings"},e.createElement(y.Z,null,e.createElement(V.E,{gap:"200"},e.createElement(Y.n,{label:"Add main entity of cart drawer to display calender picker inside you cart drawer",onChange:s=>t.setFieldValue("cartDrawerEntity",s),autoComplete:"off",value:t.values.cartDrawerEntity,helpText:"Example: .header__cart, #CartLink"}),e.createElement(Y.n,{label:"Add entity to add new position into run wizard for drawer",onChange:s=>t.setFieldValue("wizardEntity",s),autoComplete:"off",value:t.values.wizardEntity,helpText:"Example: .header__cart, #CartLink"}),e.createElement(L,{language:"javascript",value:t.values.custom_script,onChange:s=>t.setFieldValue("custom_script",s),height:"300px",label:"Custom script",helpText:"Add custom JavaScript to enhance your delivery date picker functionality"}))))))};var re=a(8897);const ce=()=>e.createElement(e.Fragment,null,e.createElement(re.T,{title:"General settings"},e.createElement(oe,null))),de=(0,e.memo)(ce)}}]);})();
